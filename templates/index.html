<!DOCTYPE html>
<html>
    <head>
        <title>Tasks</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link rel="icon" href="{{ url_for('static', filename='icon.png') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
        <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    </head>
    <body onload="populate();">
        <header>
            <table>
                <tr>
                    <td>
                        <button title="Toggle dark mode" class="darkmode-btn" onclick="toggleDarkMode();">
                            <svg><use href="#dark-mode-toggle"></use></svg>
                        </button>
                    </td>
                    <td id="header-section">
                        {% if session['logged_in'] %}
                            <span class="user-icon"><svg><use href="#user-icon"></use></svg></span>
                            <a style="cursor: default; margin-left: 41px;">{{ session['uname'] }}</a>
                            <a href="/signout">Sign Out</a>
                        {% else %}
                            <a onclick="signIn(1);" style="cursor: pointer;">Sign In</a>
                            <a onclick="signUp(1);" style="cursor: pointer;">Sign Up</a>
                        {% endif %}
                    </td>
                </tr>
            </table>
        </header>
        {% with messages = get_flashed_messages() %}
            {% if messages %}
                {% for message in messages %}
                    <div id="notification" class="notif-modal">
                        <div class="notif-content">
                            <span class="close-notif">&times;</span>
                            <p style="margin: 3px auto 7px auto;">{{ message }}</p>
                        </div>
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}
        <div id="sign-in" class="ac-modal">
            <form class="modal-content animate" action="/signin" method="post">
                <span onclick="signIn(2);" class="close-modal">&times;</span>
                <div class="container2">
                    <label for="uname"><b>Username</b></label>
                    <input type="text" placeholder="Enter Username" name="uname" id="username1" class="input" required>

                    <label for="passwd"><b>Password</b></label>
                    <input type="password" placeholder="Enter Password" name="passwd" class="input" required>

                    <button class="submit-btn" type="submit">Sign In</button>
                    <br>
                </div>
            </form>
        </div>
        <div id="sign-up" class="ac-modal">
            <form class="modal-content animate" action="/signup" method="post">
                <span onclick="signUp(2);" class="close-modal">&times;</span>
                <div class="container2">
                    <label for="uname"><b>Username</b></label>
                    <input type="text" placeholder="Enter Username" name="uname" id="username2" class="input" required>

                    <label for="passwd"><b>Password</b></label>
                    <input type="password" placeholder="Enter Password" name="passwd" id="password1" class="input" required>

                    <label for="passwd2"><b>Confirm Password</b></label>
                    <input type="password" placeholder="Confirm Password" name="passwd2" id="password2" class="input" required>

                    <button class="submit-btn" type="submit">Sign Up</button>
                    <br>
                </div>
            </form>
        </div>
        <div class="container">
            <h1 class="app-title">Tasks</h1>
            <ul class="todo-list js-todo-list"></ul>
            <div class="empty-state">
                <svg><use href="#checklist-icon"></use></svg>
                <h2 class="empty-state__title">Add your first task</h2>
                <p class="empty-state__description">What do you want to get done today?</p>
            </div>
            <form class="js-form">
                <input autofocus type="text" aria-label="Enter a new todo item" placeholder="E.g. Build a web app" class="js-todo-input">
            </form>
        </div>
        <script src="{{ url_for('static', filename='script.js') }}" type="text/javascript"></script>
    </body>
    <svg>
        <defs>
            <symbol id="checklist-icon" viewBox="0 0 44.688 44.688"><path d="M25.013,39.119c-0.336,0.475-0.828,0.82-1.389,0.975l-2.79,0.762c-0.219,0.062-0.445,0.094-0.673,0.094 c-0.514,0-1.011-0.157-1.43-0.452c-0.615-0.428-1.001-1.103-1.062-1.834l-0.245-2.881c-0.058-0.591,0.101-1.183,0.437-1.659 l0.103-0.148H8.012c-0.803,0-1.454-0.662-1.454-1.463c0-0.804,0.651-1.466,1.454-1.466h12.046l2.692-3.845H8.012 c-0.803,0-1.454-0.662-1.454-1.465s0.651-1.465,1.454-1.465l16.811-0.043l6.304-9.039V8.497c0-1.1-0.851-1.988-1.948-1.988h-4.826 v3.819c0,1.803-1.474,3.229-3.274,3.229h-9.706c-1.804,0-3.227-1.427-3.227-3.229V6.509H3.268c-1.099,0-1.988,0.889-1.988,1.988 V42.65c0,1.1,0.89,2.037,1.988,2.037h25.909c1.1,0,1.949-0.938,1.949-2.037V30.438L25.013,39.119z M8.012,17.496h16.424 c0.801,0,1.453,0.661,1.453,1.464c0,0.803-0.652,1.465-1.453,1.465H8.012c-0.803,0-1.454-0.662-1.454-1.465 C6.558,18.157,7.209,17.496,8.012,17.496z"/> <path d="M11.4,11.636h9.697c0.734,0,1.331-0.596,1.331-1.332V4.727c0-0.736-0.597-1.332-1.331-1.332h-1.461 C19.626,1.52,18.102,0,16.223,0c-1.88,0-3.402,1.519-3.413,3.395H11.4c-0.736,0-1.331,0.596-1.331,1.332v5.576 C10.069,11.039,10.664,11.636,11.4,11.636z M16.224,1.891c0.835,0,1.512,0.672,1.521,1.505H14.7 C14.71,2.563,15.388,1.891,16.224,1.891z"/> <path d="M43.394,8.978c-0.045-0.248-0.186-0.465-0.392-0.609l-2.428-1.692c-0.164-0.115-0.353-0.17-0.539-0.17 c-0.296,0-0.591,0.14-0.772,0.403L22.064,31.573l3.973,2.771L43.238,9.682C43.38,9.477,43.437,9.224,43.394,8.978z"/> <path d="M19.355,35.6l0.249,2.896c0.012,0.167,0.101,0.316,0.236,0.412c0.096,0.066,0.209,0.104,0.321,0.104 c0.049,0,0.099-0.007,0.147-0.021l2.805-0.768c0.127-0.035,0.237-0.113,0.313-0.22l1.053-1.51l-3.976-2.772l-1.053,1.51 C19.376,35.338,19.341,35.469,19.355,35.6z"/></symbol>
            <symbol id="delete-icon" viewBox="0 0 448 448"><path d="m224 0c-123.710938 0-224 100.289062-224 224s100.289062 224 224 224 224-100.289062 224-224c-.132812-123.65625-100.34375-223.867188-224-224zm124.449219 325.824219c4.15625 4.015625 5.828125 9.964843 4.363281 15.558593s-5.835938 9.964844-11.429688 11.429688-11.542968-.207031-15.558593-4.363281l-101.824219-101.824219-101.824219 101.824219c-6.277343 6.0625-16.257812 5.976562-22.429687-.195313s-6.257813-16.152344-.195313-22.429687l101.824219-101.824219-101.824219-101.824219c-4.15625-4.015625-5.828125-9.964843-4.363281-15.558593s5.835938-9.964844 11.429688-11.429688 11.542968.207031 15.558593 4.363281l101.824219 101.824219 101.824219-101.824219c6.277343-6.0625 16.257812-5.976562 22.429687.195313s6.257813 16.152344.195313 22.429687l-101.824219 101.824219zm0 0" fill="#D80027"/></symbol>
            <symbol id="edit-icon" viewBox="0 0 512 512"><path d="m223.085938 411h-48.183594c-15.558594 0-28.21875-12.660156-28.21875-28.21875v-253.5625c0-15.558594 12.660156-28.21875 28.21875-28.21875h177.125c15.5625 0 28.21875 12.660156 28.21875 28.21875v88.601562c0 8.285157 6.71875 15 15 15 8.285156 0 15-6.714843 15-15v-88.601562c0-32.101562-26.117188-58.21875-58.21875-58.21875h-177.121094c-32.105469 0-58.222656 26.117188-58.222656 58.21875v253.5625c0 32.101562 26.121094 58.21875 58.222656 58.21875h48.183594c8.28125 0 15-6.714844 15-15s-6.71875-15-15.003906-15zm0 0"/><path d="m337.621094 157.441406h-148.390625c-8.28125 0-15 6.714844-15 15s6.71875 15 15 15h148.390625c8.285156 0 15-6.714844 15-15s-6.714844-15-15-15zm0 0"/><path d="m352.621094 230.066406c0-8.28125-6.714844-15-15-15h-148.390625c-8.28125 0-15 6.71875-15 15 0 8.285156 6.71875 15 15 15h148.390625c8.285156 0 15-6.714844 15-15zm0 0"/><path d="m189.230469 272.695312c-8.285157 0-15 6.714844-15 15 0 8.285157 6.714843 15 15 15h90.125c8.28125 0 15-6.714843 15-15 0-8.285156-6.71875-15-15-15zm0 0"/><path d="m435.59375 279.765625c-17.082031-17.085937-44.878906-17.082031-61.949219-.011719l-79.097656 78.917969c-1.746094 1.746094-3.039063 3.894531-3.757813 6.261719l-17.222656 56.707031c-1.589844 5.234375-.207031 10.917969 3.613282 14.832031 2.863281 2.933594 6.75 4.527344 10.738281 4.527344 1.335937 0 2.679687-.179688 4.003906-.546875l58.148437-16.105469c2.492188-.691406 4.761719-2.015625 6.589844-3.839844l78.933594-78.78125c17.082031-17.082031 17.082031-44.878906 0-61.960937zm-21.210938 21.210937c5.382813 5.386719 5.382813 14.152344.007813 19.527344l-2.371094 2.367188-19.535156-19.535156 2.359375-2.359376c5.386719-5.382812 14.148438-5.382812 19.539062 0zm-76.121093 95.511719-28.066407 7.773438 8.207032-27.007813 52.84375-52.730468 19.539062 19.539062zm0 0"/></symbol>
            <symbol id="dark-mode-toggle" viewBox="0 0 512 512"><path d="m57.8125 337.492188v57.175781c0 32.425781 26.453125 58.878906 58.878906 58.878906h57.175782l40.53125 40.53125c11.09375 11.09375 26.027343 17.28125 41.601562 17.28125s30.507812-6.1875 41.601562-17.28125l40.53125-40.53125h57.175782c32.425781 0 58.878906-26.453125 58.878906-58.878906v-57.175781l40.53125-40.53125c11.09375-11.09375 17.28125-26.027344 17.28125-41.601563s-6.1875-30.507813-17.28125-41.597656l-40.53125-40.535157v-57.171874c0-32.429688-26.453125-58.882813-58.878906-58.882813h-57.175782l-40.53125-40.53125c-22.1875-22.1875-61.015624-22.1875-83.203124 0l-40.53125 40.53125h-57.175782c-32.425781 0-58.878906 26.453125-58.878906 58.882813v57.171874l-40.53125 40.535157c-11.09375 11.089843-17.28125 26.023437-17.28125 41.597656s6.1875 30.507813 17.28125 41.601563zm198.1875-210.132813c17.066406 0 33.492188 3.199219 48.640625 9.175781 6.1875 2.558594 10.027344 8.53125 10.027344 14.929688 0 6.613281-4.054688 12.589844-10.242188 14.933594-33.707031 13.226562-69.757812 43.523437-69.757812 88.960937 0 45.441406 36.050781 75.734375 69.757812 88.960937 6.1875 2.347657 10.242188 8.320313 10.242188 14.933594 0 6.398438-3.839844 12.371094-10.027344 14.933594-15.148437 5.972656-31.574219 9.171875-48.640625 9.171875-74.238281 0-128-53.757813-128-128 0-74.238281 53.761719-128 128-128zm0 0"/></symbol>
            <symbol id="user-icon" viewBox="0 0 512 512"><path d="m512 256c0-141.488281-114.496094-256-256-256-141.488281 0-256 114.496094-256 256 0 140.234375 113.539062 256 256 256 141.875 0 256-115.121094 256-256zm-256-226c124.617188 0 226 101.382812 226 226 0 45.585938-13.558594 89.402344-38.703125 126.515625-100.96875-108.609375-273.441406-108.804687-374.59375 0-25.144531-37.113281-38.703125-80.929687-38.703125-126.515625 0-124.617188 101.382812-226 226-226zm-168.585938 376.5c89.773438-100.695312 247.421876-100.671875 337.167969 0-90.074219 100.773438-247.054687 100.804688-337.167969 0zm0 0"/><path d="m256 271c49.625 0 90-40.375 90-90v-30c0-49.625-40.375-90-90-90s-90 40.375-90 90v30c0 49.625 40.375 90 90 90zm-60-120c0-33.085938 26.914062-60 60-60s60 26.914062 60 60v30c0 33.085938-26.914062 60-60 60s-60-26.914062-60-60zm0 0"/></symbol>
        </defs>
    </svg>
</html>
